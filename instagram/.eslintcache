[{"/Users/ubaid07/Documents/Instagram-Clone/instagram/src/index.js":"1","/Users/ubaid07/Documents/Instagram-Clone/instagram/src/App.js":"2","/Users/ubaid07/Documents/Instagram-Clone/instagram/src/reportWebVitals.js":"3","/Users/ubaid07/Documents/Instagram-Clone/instagram/src/Post.js":"4","/Users/ubaid07/Documents/Instagram-Clone/instagram/src/firebase.js":"5","/Users/ubaid07/Documents/Instagram-Clone/instagram/src/ImageUpload.js":"6"},{"size":500,"mtime":1608665228316,"results":"7","hashOfConfig":"8"},{"size":6888,"mtime":1610459792399,"results":"9","hashOfConfig":"8"},{"size":362,"mtime":1608665228320,"results":"10","hashOfConfig":"8"},{"size":2237,"mtime":1610382301814,"results":"11","hashOfConfig":"8"},{"size":721,"mtime":1609694057153,"results":"12","hashOfConfig":"8"},{"size":1977,"mtime":1610459306365,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"kfgnlm",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23","usedDeprecatedRules":"16"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"16"},"/Users/ubaid07/Documents/Instagram-Clone/instagram/src/index.js",[],["29","30"],"/Users/ubaid07/Documents/Instagram-Clone/instagram/src/App.js",[],"/Users/ubaid07/Documents/Instagram-Clone/instagram/src/reportWebVitals.js",[],"/Users/ubaid07/Documents/Instagram-Clone/instagram/src/Post.js",["31"],"import React, { useState, useEffect, forwardRef } from \"react\";\nimport \"./Post.css\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { db } from \"./firebase\";\nimport firebase from \"firebase\";\n\nconst Post = forwardRef(\n  ({ user, username, postId, imageUrl, caption }, ref) => {\n    const [comments, setComments] = useState([]);\n    const [comment, setComment] = useState(\"\");\n\n    useEffect(() => {\n      let unsubscribe;\n      if (postId) {\n        unsubscribe = db\n          .collection(\"posts\")\n          .doc(postId)\n          .collection(\"comments\")\n          .onSnapshot((snapshot) => {\n            setComments(snapshot.docs.map((doc) => doc.data()));\n          });\n      }\n\n      return () => {\n        unsubscribe();\n      };\n    }, [postId]);\n\n    const postComment = (e) => {\n      e.preventDefault();\n\n      db.collection(\"posts\").doc(postId).collection(\"comments\").add({\n        text: comment,\n        username: user.displayName,\n      });\n      setComment(\"\");\n    };\n\n    return (\n      <div className=\"post\" ref={ref}>\n        <div className=\"post__header\">\n          <Avatar\n            className=\"post__avatar\"\n            alt={username}\n            src=\"/static/images/avatar/1.jpg\"\n          />\n          <h3>{username}</h3>\n        </div>\n\n        <img className=\"post__image\" src={imageUrl} alt=\"post\" />\n        <h4 className=\"post__text\">\n          {username} <span className=\"post__caption\">{caption}</span>\n        </h4>\n\n        <div className=\"post__comments\">\n          {comments.map((comment) => (\n            <p>\n              <b>{comment.username}</b> {comment.text}\n            </p>\n          ))}\n        </div>\n\n        {user && (\n          <form className=\"post__commentBox\">\n            <input\n              className=\"post__input\"\n              type=\"text\"\n              placeholder=\"Add a comment...\"\n              value={comment}\n              onChange={(e) => setComment(e.target.value)}\n            />\n            <button\n              disabled={!comment}\n              className=\"post__button\"\n              type=\"submit\"\n              onClick={postComment}\n            >\n              Post\n            </button>\n          </form>\n        )}\n      </div>\n    );\n  }\n);\n\nexport default Post;","/Users/ubaid07/Documents/Instagram-Clone/instagram/src/firebase.js",[],"/Users/ubaid07/Documents/Instagram-Clone/instagram/src/ImageUpload.js",["32"],"import React, { useState } from \"react\";\nimport firebase from \"firebase\";\nimport { storage, db } from \"./firebase\";\nimport \"./ImageUpload.css\";\nimport { Input, Button } from \"@material-ui/core\";\n\nconst ImageUpload = ({ username }) => {\n  const [image, setImage] = useState(null);\n  const [url, setUrl] = useState(\"\");\n  const [progress, setProgress] = useState(0);\n  const [caption, setCaption] = useState(\"\");\n\n  const handleChange = (e) => {\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n    }\n  };\n\n  const handleUpload = () => {\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        // progress function ...\n        const progress = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        setProgress(progress);\n      },\n      (error) => {\n       \n        console.log(error);\n      },\n      () => {\n       \n        storage\n          .ref(\"images\")\n          .child(image.name)\n          .getDownloadURL()\n          .then((url) => {\n            setUrl(url);\n\n           \n            db.collection(\"posts\").add({\n              imageUrl: url,\n              caption: caption,\n              username: username,\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n            });\n\n            setProgress(0);\n            setCaption(\"\");\n            setImage(null);\n          });\n      }\n    );\n  };\n\n  return (\n    <div className=\"imageupload\">\n      <progress className=\"imageupload__progress\" value={progress} max=\"100\" />\n      <Input\n        placeholder=\"Enter a caption\"\n        value={caption}\n        onChange={(e) => setCaption(e.target.value)}\n      />\n      <div>\n        <input type=\"file\" onChange={handleChange} />\n        <Button className=\"imageupload__button\" onClick={handleUpload}>\n          Upload\n        </Button>\n      </div>\n\n      <br />\n    </div>\n  );\n};\n\nexport default ImageUpload;",{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","severity":1,"message":"38","line":5,"column":8,"nodeType":"39","messageId":"40","endLine":5,"endColumn":16},{"ruleId":"37","severity":1,"message":"41","line":9,"column":10,"nodeType":"39","messageId":"40","endLine":9,"endColumn":13},"no-native-reassign",["42"],"no-negated-in-lhs",["43"],"no-unused-vars","'firebase' is defined but never used.","Identifier","unusedVar","'url' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]